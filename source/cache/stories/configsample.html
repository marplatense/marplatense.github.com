<pre class="code python literal-block">
<span class="c">#!/usr/bin/env python</span>
<span class="c"># -*- coding: utf-8 -*-</span>

<span class="c">########################################</span>
<span class="c"># Configuration, please edit</span>
<span class="c">########################################</span>

<span class="c"># post_pages contains (wildcard, destination, template, use_in_feed) tuples.</span>
<span class="c">#</span>
<span class="c"># The wildcard is used to generate a list of reSt source files (whatever/thing.txt)</span>
<span class="c"># That fragment must have an associated metadata file (whatever/thing.meta),</span>
<span class="c"># and opcionally translated files (example for spanish, with code &quot;es&quot;):</span>
<span class="c">#     whatever/thing.txt.es and whatever/thing.meta.es</span>
<span class="c">#</span>
<span class="c"># From those files, a set of HTML fragment files will be generated:</span>
<span class="c"># whatever/thing.html (and maybe whatever/thing.html.es)</span>
<span class="c">#</span>
<span class="c"># These files are combinated with the template to produce rendered</span>
<span class="c"># pages, which will be placed at</span>
<span class="c"># output / TRANSLATIONS[lang] / destination / pagename.html</span>
<span class="c">#</span>
<span class="c"># where &quot;pagename&quot; is specified in the metadata file.</span>
<span class="c">#</span>
<span class="c"># if use_in_feed is True, then those posts will be added to the site's</span>
<span class="c"># rss feeds.</span>
<span class="c">#</span>

<span class="n">post_pages</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">(</span><span class="s">&quot;posts/*.txt&quot;</span><span class="p">,</span> <span class="s">&quot;weblog/posts&quot;</span><span class="p">,</span> <span class="s">&quot;post.tmpl&quot;</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span>
    <span class="p">(</span><span class="s">&quot;stories/*.txt&quot;</span><span class="p">,</span> <span class="s">&quot;stories&quot;</span><span class="p">,</span> <span class="s">&quot;post.tmpl&quot;</span><span class="p">,</span> <span class="bp">False</span><span class="p">),</span>
<span class="p">)</span>

<span class="c"># What is the default language?</span>

<span class="n">DEFAULT_LANG</span> <span class="o">=</span> <span class="s">&quot;en&quot;</span>

<span class="c"># What languages do you have?</span>
<span class="c"># If a specific post is not translated to a language, then the version</span>
<span class="c"># in the default language will be shown instead.</span>
<span class="c"># The format is {&quot;translationcode&quot; : &quot;path/to/translation&quot; }</span>
<span class="c"># the path will be used as a prefix for the generated pages location</span>

<span class="n">TRANSLATIONS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&quot;en&quot;</span><span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
    <span class="s">&quot;es&quot;</span><span class="p">:</span> <span class="s">&quot;tr/es&quot;</span><span class="p">,</span>
    <span class="p">}</span>

<span class="c"># Paths for different autogenerated bits. These are combined with the translation</span>
<span class="c"># paths.</span>

<span class="c"># Final locations are:</span>
<span class="c"># output / TRANSLATION[lang] / TAG_PATH / index.html (list of tags)</span>
<span class="c"># output / TRANSLATION[lang] / TAG_PATH / tag.html (list of posts for a tag)</span>
<span class="c"># output / TRANSLATION[lang] / TAG_PATH / tag.xml (RSS feed for a tag)</span>
<span class="n">TAG_PATH</span> <span class="o">=</span> <span class="s">&quot;categories&quot;</span>
<span class="c"># Final location is output / TRANSLATION[lang] / INDEX_PATH / index-*.html</span>
<span class="n">INDEX_PATH</span> <span class="o">=</span> <span class="s">&quot;weblog&quot;</span>
<span class="c"># Final locations for the archives are:</span>
<span class="c"># output / TRANSLATION[lang] / ARCHIVE_PATH / archive.html</span>
<span class="c"># output / TRANSLATION[lang] / ARCHIVE_PATH / YEAR / index.html</span>
<span class="n">ARCHIVE_PATH</span> <span class="o">=</span> <span class="s">&quot;weblog&quot;</span>
<span class="c"># Final locations are:</span>
<span class="c"># output / TRANSLATION[lang] / RSS_PATH / rss.xml</span>
<span class="n">RSS_PATH</span> <span class="o">=</span> <span class="s">&quot;weblog&quot;</span>

<span class="c"># A list of redirection tuples, [(&quot;foo/from.html&quot;, &quot;/bar/to.html&quot;)].</span>
<span class="c">#</span>
<span class="c"># A HTML file will be created in output/foo/from.html that redirects</span>
<span class="c"># to the &quot;/bar/to.html&quot; URL. notice that the &quot;from&quot; side MUST be a</span>
<span class="c"># relative URL.</span>
<span class="c">#</span>
<span class="c"># If you don't need any of these, just set to []</span>

<span class="n">REDIRECTIONS</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&quot;index.html&quot;</span><span class="p">,</span> <span class="s">&quot;/weblog/index.html&quot;</span><span class="p">)]</span>

<span class="c"># Commands to execute to deploy. Can be anything, for example,</span>
<span class="c"># you may use rsync:</span>
<span class="c"># &quot;rsync -rav output/* joe&#64;my.site:/srv/www/site&quot;</span>
<span class="c"># And then do a backup, or ping pingomatic.</span>
<span class="c"># To do manual deployment, set it to []</span>
<span class="n">DEPLOY_COMMANDS</span> <span class="o">=</span> <span class="p">[</span>
<span class="s">r'rsync -rav --delete output/* ralsina&#64;lateral.netmanagers.com.ar:/srv/www/lateral'</span><span class="p">,</span>
<span class="s">r'rdiff-backup output ~/bartleblog-backup'</span><span class="p">,</span>
<span class="s">r&quot;links -dump 'http://www.twingly.com/ping2?url=lateral.netmanagers.com.ar' &gt; /dev/null&quot;</span><span class="p">,</span>
<span class="s">r&quot;links -dump 'http://pingomatic.com/ping/?title=Lateral+Opinion&amp;blogurl=http</span><span class="si">%%</span><span class="s">3A</span><span class="si">%%</span><span class="s">2F</span><span class="si">%%</span><span class="s">2Flateral.netmanagers.com.ar&amp;rssurl=http</span><span class="si">%%</span><span class="s">3A</span><span class="si">%%</span><span class="s">2F</span><span class="si">%%</span><span class="s">2F&amp;chk_weblogscom=on&amp;chk_blogs=on&amp;chk_technorati=on&amp;chk_feedburner=on&amp;chk_syndic8=on&amp;chk_newsgator=on&amp;chk_myyahoo=on&amp;chk_pubsubcom=on&amp;chk_blogdigger=on&amp;chk_blogrolling=on&amp;chk_blogstreet=on&amp;chk_moreover=on&amp;chk_weblogalot=on&amp;chk_icerocket=on&amp;chk_newsisfree=on&amp;chk_topicexchange=on&amp;chk_google=on&amp;chk_tailrank=on&amp;chk_bloglines=on&amp;chk_aiderss=on&amp;chk_skygrid=on&amp;chk_bitacoras=on&amp;chk_collecta=on' &gt; /dev/null&quot;</span><span class="p">,</span>
<span class="s">r'rsync -rav ~/bartleblog-backup/* ralsina&#64;netmanagers.com.ar:bartleblog-backup'</span><span class="p">,</span>
<span class="p">]</span>

<span class="c">##############################################################################</span>
<span class="c"># Image Gallery Options</span>
<span class="c">##############################################################################</span>

<span class="c"># Galleries are folders in galleries/</span>
<span class="c"># Final location of galleries will be output / GALLERY_PATH / gallery_name</span>
<span class="n">GALLERY_PATH</span> <span class="o">=</span> <span class="s">&quot;galleries&quot;</span>
<span class="n">THUMBNAIL_SIZE</span> <span class="o">=</span> <span class="mi">256</span>


<span class="c">##############################################################################</span>
<span class="c"># HTML fragments and diverse things that are used by the templates</span>
<span class="c">##############################################################################</span>

<span class="c"># Data about this site</span>
<span class="n">BLOG_TITLE</span> <span class="o">=</span> <span class="s">&quot;Lateral Opinion&quot;</span>
<span class="n">BLOG_URL</span> <span class="o">=</span> <span class="s">&quot;http://lateral.netmanagers.com.ar&quot;</span>
<span class="n">BLOG_EMAIL</span> <span class="o">=</span> <span class="s">&quot;ralsina&#64;kde.org&quot;</span>
<span class="n">BLOG_DESCRIPTION</span> <span class="o">=</span> <span class="s">&quot;I write free software. I have an opinion on almost &quot;</span>\
    <span class="s">&quot;everything. I write quickly. A weblog was inevitable.&quot;</span>

<span class="c"># A HTML fragment describing the license, for the sidebar.</span>
<span class="c"># I recomment using Creative Commons' wizard: http://creativecommons.org/choose/</span>
<span class="n">LICENSE</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;
    &lt;a rel=&quot;license&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/2.5/ar/&quot;&gt;
    &lt;img alt=&quot;Creative Commons License&quot; style=&quot;border-width:0; margin-bottom:12px;&quot;
    src=&quot;http://i.creativecommons.org/l/by-nc-sa/2.5/ar/88x31.png&quot;&gt;&lt;/a&gt;&quot;&quot;&quot;</span>

<span class="c"># A small copyright notice for the page footer</span>
<span class="n">CONTENT_FOOTER</span> <span class="o">=</span> <span class="s">u&quot;Contents Â© 2000-2012 Roberto Alsina &lt;ralsina&#64;kde.org&gt;&quot;</span>

<span class="c"># To enable comments via Disqus, you need to create a forum at http://disqus.com,</span>
<span class="c"># and set DISQUS_FORUM to the short name you selected.</span>
<span class="c"># If you want to disable comments, set it to False.</span>
<span class="n">DISQUS_FORUM</span> <span class="o">=</span> <span class="s">&quot;lateralopinion&quot;</span>

<span class="c"># RSS_LINK is a HTML fragment to link the RSS or Atom feeds. If set to None,</span>
<span class="c"># the base.tmpl will use the feed Nikola generates. However, you may want to</span>
<span class="c"># change it for a feedburner feed or something else.</span>

<span class="c">#RSS_LINK = &quot;&quot;&quot;</span>
    <span class="c">#&lt;link rel=&quot;alternate&quot; type=&quot;application/rss+xml&quot; title=&quot;RSS&quot; href=&quot;http://feeds.feedburner.com/LateralOpinion&quot;&gt;</span>
    <span class="c">#&lt;link rel=&quot;alternate&quot; type=&quot;application/rss+xml&quot; title=&quot;RSS en Espanol&quot; href=&quot;http://feeds.feedburner.com/LateralOpinionEsp&quot;&gt;</span>
<span class="c">#&quot;&quot;&quot;</span>
<span class="n">RSS_LINK</span> <span class="o">=</span> <span class="bp">None</span>

<span class="c"># A search form to search this site, for the sidebar. You can use a google</span>
<span class="c"># custom search (http://www.google.com/cse/)</span>
<span class="c"># Or a duckduckgo search: https://duckduckgo.com/search_box.html</span>
<span class="c"># This example should work for pretty much any site we generate.</span>
<span class="n">SEARCH_FORM</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;
    &lt;!-- Custom search --&gt;
    &lt;form method=&quot;get&quot; id=&quot;search&quot; action=&quot;http://duckduckgo.com/&quot;&gt;
        &lt;input type=&quot;hidden&quot; name=&quot;sites&quot; value=&quot;</span><span class="si">%s</span><span class="s">&quot;/&gt;
        &lt;input type=&quot;hidden&quot; name=&quot;k8&quot; value=&quot;#444444&quot;/&gt;
        &lt;input type=&quot;hidden&quot; name=&quot;k9&quot; value=&quot;#D51920&quot;/&gt;
        &lt;input type=&quot;hidden&quot; name=&quot;kt&quot; value=&quot;h&quot;/&gt;
        &lt;input type=&quot;text&quot; name=&quot;q&quot; maxlength=&quot;255&quot; placeholder=&quot;Search&amp;hellip;&quot; class=&quot;span2&quot; style=&quot;margin-top: 4px;&quot;/&gt;
        &lt;input type=&quot;submit&quot; value=&quot;DuckDuckGo Search&quot; style=&quot;visibility: hidden;&quot; /&gt;
    &lt;/form&gt;
    &lt;!-- End of custom search --&gt;
&quot;&quot;&quot;</span> <span class="o">%</span> <span class="n">BLOG_URL</span>

<span class="c"># Google analytics or whatever else you use. Added to the bottom of &lt;body&gt;</span>
<span class="c"># in the default template (base.tmpl).</span>
<span class="n">ANALYTICS</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;
        &lt;!-- Start of StatCounter Code --&gt;
        &lt;script type=&quot;text/javascript&quot;&gt;
        sc_project=1436219;
        sc_invisible=1;
        sc_partition=13;
        sc_security=&quot;b91cd70a&quot;;
        &lt;/script&gt;
        &lt;script type=&quot;text/javascript&quot; src=&quot;http://www.statcounter.com/counter/counter.js&quot;&gt;&lt;/script&gt;
        &lt;noscript&gt;
            &lt;div class=&quot;statcounter&quot;&gt;
            &lt;a title=&quot;free hit counters&quot; href=&quot;http://www.statcounter.com/&quot; target=&quot;_blank&quot;&gt;&lt;img class=&quot;statcounter&quot; src=&quot;http://c14.statcounter.com/1436219/0/b91cd70a/1/&quot; alt=&quot;free hit counters&quot; &gt;&lt;/a&gt;
            &lt;/div&gt;
        &lt;/noscript&gt;
        &lt;!-- End of StatCounter Code --&gt;
        &lt;!-- Start of Google Analytics --&gt;
            &lt;script src=&quot;http://www.google-analytics.com/urchin.js&quot; type=&quot;text/javascript&quot;&gt;
            &lt;/script&gt;
            &lt;script type=&quot;text/javascript&quot;&gt;
            _uacct = &quot;UA-1639287-1&quot;;
            urchinTracker();
            &lt;/script&gt;
        &lt;!-- End of Google Analytics --&gt;
    &quot;&quot;&quot;</span>

<span class="c"># Put in global_context things you want available on all your templates.</span>
<span class="c"># It can be anything, data, functions, modules, etc.</span>
<span class="n">GLOBAL_CONTEXT</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'analytics'</span><span class="p">:</span> <span class="n">ANALYTICS</span><span class="p">,</span>
    <span class="s">'blog_title'</span><span class="p">:</span> <span class="n">BLOG_TITLE</span><span class="p">,</span>
    <span class="s">'blog_url'</span><span class="p">:</span> <span class="n">BLOG_URL</span><span class="p">,</span>
    <span class="s">'translations'</span><span class="p">:</span> <span class="n">TRANSLATIONS</span><span class="p">,</span>
    <span class="s">'license'</span><span class="p">:</span> <span class="n">LICENSE</span><span class="p">,</span>
    <span class="s">'search_form'</span><span class="p">:</span> <span class="n">SEARCH_FORM</span><span class="p">,</span>
    <span class="s">'disqus_forum'</span><span class="p">:</span> <span class="n">DISQUS_FORUM</span><span class="p">,</span>
    <span class="s">'content_footer'</span><span class="p">:</span> <span class="n">CONTENT_FOOTER</span><span class="p">,</span>
    <span class="s">'rss_path'</span><span class="p">:</span> <span class="n">RSS_PATH</span><span class="p">,</span>
    <span class="s">'rss_link'</span><span class="p">:</span> <span class="n">RSS_LINK</span><span class="p">,</span>
    <span class="c"># Locale-dependent links for the sidebar</span>
    <span class="s">'sidebar_links'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'en'</span><span class="p">:</span> <span class="p">(</span>
            <span class="p">(</span><span class="s">'/archive.html'</span><span class="p">,</span> <span class="s">'Archives'</span><span class="p">),</span>
            <span class="p">(</span><span class="s">'/categories/index.html'</span><span class="p">,</span> <span class="s">'Tags'</span><span class="p">),</span>
            <span class="p">(</span><span class="s">'http://nikola.ralsina.com.ar'</span><span class="p">,</span> <span class="s">'Powered by Nikola!'</span><span class="p">),</span>
            <span class="p">),</span>
        <span class="s">'es'</span><span class="p">:</span> <span class="p">(</span>
            <span class="p">(</span><span class="s">'/archive.html'</span><span class="p">,</span> <span class="s">'Archivos'</span><span class="p">),</span>
            <span class="p">(</span><span class="s">'/categories/index.html'</span><span class="p">,</span> <span class="s">'Tags'</span><span class="p">),</span>
            <span class="p">(</span><span class="s">'http://nikola.ralsina.com.ar'</span><span class="p">,</span> <span class="s">'Powered by Nikola!'</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>

<span class="c"># Sorry, this is magic. It just is.</span>
<span class="nb">execfile</span><span class="p">(</span><span class="s">&quot;nikola/nikola.py&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">nikola_main</span><span class="p">()</span>
<span class="c"># End of magic.</span>

<span class="c"># To disable tasks, just delete them. For example, if you really</span>
<span class="c"># do not want to do a sitemap:</span>
<span class="c"># del(task_sitemap)</span>

<span class="c"># You can also replace the provided tasks with your own by redefining them</span>
<span class="c"># below this point. For a list of current tasks, run &quot;doit list&quot;, and for</span>
<span class="c"># help on their syntax, refer to the doit handbook at http://python-doit.sf.net</span>
</pre>
